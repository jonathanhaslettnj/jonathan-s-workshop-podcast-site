<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PDF Files</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  h1 { margin-bottom: 10px; }
  ul { line-height: 1.8; }
</style>
</head>
<body>

<h1>PDF Files in This Folder</h1>
<ul id="fileList"></ul>

<script>
const owner = "jonathanhaslettnj";
const repo = "jonathan-s-workshop-podcast-site";
const folder = "Unfolding Redemptions Plan";

fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${encodeURIComponent(folder)}`)
  .then(response => response.json())
  .then(files => {
    const list = document.getElementById("fileList");

    files.forEach(file => {
      if (file.name.toLowerCase().endsWith(".pdf")) {
        const li = document.createElement("li");

        // Link to viewer page instead of direct PDF
        li.innerHTML = `<a href="viewer.html?file=${encodeURIComponent(file.name)}" target="_blank">${file.name}</a>`;

        list.appendChild(li);
      }
    });
  })
  .catch(err => console.error("Error loading files:", err));
</script>

<div style="margin-top: 40px; text-align: center;">
  <a href="../index.html">Return to Opening Page</a>
</div>

</body>
</html>
